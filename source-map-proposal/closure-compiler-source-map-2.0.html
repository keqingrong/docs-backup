<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_1wnjzsjl7vfs-6>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-6,decimal) ". "}.lst-kix_1wnjzsjl7vfs-5>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-5,lower-roman) ". "}.lst-kix_1wnjzsjl7vfs-3>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-3,decimal) ". "}.lst-kix_1wnjzsjl7vfs-4>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-4,lower-latin) ". "}.lst-kix_5hizejbjgrmz-7>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-7}.lst-kix_1wnjzsjl7vfs-1>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-1,lower-latin) ". "}.lst-kix_1wnjzsjl7vfs-2>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-2,lower-roman) ". "}ol.lst-kix_1wnjzsjl7vfs-1.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-1 0}ol.lst-kix_1wnjzsjl7vfs-4.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-4 0}.lst-kix_5hizejbjgrmz-6>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-6}.lst-kix_1wnjzsjl7vfs-0>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-0,decimal) ". "}.lst-kix_1wnjzsjl7vfs-8>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-8}ul.lst-kix_cfi6kun1ldmx-0{list-style-type:none}ol.lst-kix_5hizejbjgrmz-2.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-2 0}ol.lst-kix_5hizejbjgrmz-5.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-5 0}.lst-kix_hanyms3abqk8-6>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-6,decimal) ". "}.lst-kix_hanyms3abqk8-8>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-8,lower-roman) ". "}.lst-kix_hanyms3abqk8-7>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-7,lower-latin) ". "}.lst-kix_hanyms3abqk8-8>li{counter-increment:lst-ctn-kix_hanyms3abqk8-8}.lst-kix_5hizejbjgrmz-6>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-6,decimal) ". "}.lst-kix_5hizejbjgrmz-5>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-5,lower-roman) ". "}.lst-kix_5hizejbjgrmz-4>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-4,lower-latin) ". "}.lst-kix_5hizejbjgrmz-2>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-2,lower-roman) ". "}.lst-kix_5hizejbjgrmz-1>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-1,lower-latin) ". "}.lst-kix_5hizejbjgrmz-3>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-3,decimal) ". "}ol.lst-kix_5hizejbjgrmz-8.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-8 0}ol.lst-kix_hanyms3abqk8-6.start{counter-reset:lst-ctn-kix_hanyms3abqk8-6 0}.lst-kix_1wnjzsjl7vfs-0>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-0}ol.lst-kix_1wnjzsjl7vfs-4{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-5{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-2{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-3{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-0{list-style-type:none}.lst-kix_5hizejbjgrmz-0>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-0,decimal) ". "}ol.lst-kix_1wnjzsjl7vfs-1{list-style-type:none}.lst-kix_hanyms3abqk8-0>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-0,decimal) ". "}ol.lst-kix_5hizejbjgrmz-6.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-6 0}ol.lst-kix_1wnjzsjl7vfs-8{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-6{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-7{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-6.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-6 0}.lst-kix_hanyms3abqk8-2>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-2,lower-roman) ". "}.lst-kix_hanyms3abqk8-4>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-4,lower-latin) ". "}ol.lst-kix_hanyms3abqk8-0.start{counter-reset:lst-ctn-kix_hanyms3abqk8-0 0}.lst-kix_hanyms3abqk8-1>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-1,lower-latin) ". "}.lst-kix_hanyms3abqk8-5>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-5,lower-roman) ". "}.lst-kix_hanyms3abqk8-3>li:before{content:"" counter(lst-ctn-kix_hanyms3abqk8-3,decimal) ". "}ol.lst-kix_5hizejbjgrmz-7.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-7 0}.lst-kix_cfi6kun1ldmx-0>li:before{content:"\0025cf  "}.lst-kix_cfi6kun1ldmx-1>li:before{content:"\0025cb  "}ol.lst-kix_5hizejbjgrmz-0.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-0 0}.lst-kix_cfi6kun1ldmx-2>li:before{content:"\0025a0  "}.lst-kix_hanyms3abqk8-3>li{counter-increment:lst-ctn-kix_hanyms3abqk8-3}ol.lst-kix_hanyms3abqk8-7.start{counter-reset:lst-ctn-kix_hanyms3abqk8-7 0}.lst-kix_1wnjzsjl7vfs-7>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-7}.lst-kix_cfi6kun1ldmx-4>li:before{content:"\0025cb  "}.lst-kix_cfi6kun1ldmx-3>li:before{content:"\0025cf  "}.lst-kix_cfi6kun1ldmx-5>li:before{content:"\0025a0  "}.lst-kix_1wnjzsjl7vfs-1>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-1}.lst-kix_hanyms3abqk8-0>li{counter-increment:lst-ctn-kix_hanyms3abqk8-0}.lst-kix_1wnjzsjl7vfs-4>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-4}ol.lst-kix_1wnjzsjl7vfs-7.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-7 0}.lst-kix_5hizejbjgrmz-2>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-2}ol.lst-kix_1wnjzsjl7vfs-0.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-0 0}.lst-kix_5hizejbjgrmz-8>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-8}.lst-kix_5hizejbjgrmz-5>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-5}.lst-kix_hanyms3abqk8-6>li{counter-increment:lst-ctn-kix_hanyms3abqk8-6}ol.lst-kix_hanyms3abqk8-1.start{counter-reset:lst-ctn-kix_hanyms3abqk8-1 0}.lst-kix_1wnjzsjl7vfs-7>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-7,lower-latin) ". "}.lst-kix_1wnjzsjl7vfs-8>li:before{content:"" counter(lst-ctn-kix_1wnjzsjl7vfs-8,lower-roman) ". "}.lst-kix_1wnjzsjl7vfs-3>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-3}ol.lst-kix_hanyms3abqk8-2{list-style-type:none}ol.lst-kix_hanyms3abqk8-1{list-style-type:none}ol.lst-kix_hanyms3abqk8-0{list-style-type:none}ol.lst-kix_1wnjzsjl7vfs-8.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-8 0}.lst-kix_5hizejbjgrmz-1>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-1}.lst-kix_1gfkvnr97a4d-1>li:before{content:"\0025cb  "}.lst-kix_1gfkvnr97a4d-2>li:before{content:"\0025a0  "}.lst-kix_1gfkvnr97a4d-0>li:before{content:"\0025cf  "}ol.lst-kix_hanyms3abqk8-8.start{counter-reset:lst-ctn-kix_hanyms3abqk8-8 0}ol.lst-kix_5hizejbjgrmz-1.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-1 0}ol.lst-kix_5hizejbjgrmz-0{list-style-type:none}.lst-kix_cfi6kun1ldmx-8>li:before{content:"\0025a0  "}.lst-kix_1gfkvnr97a4d-5>li:before{content:"\0025a0  "}.lst-kix_1gfkvnr97a4d-6>li:before{content:"\0025cf  "}ol.lst-kix_5hizejbjgrmz-1{list-style-type:none}ol.lst-kix_5hizejbjgrmz-4.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-4 0}.lst-kix_cfi6kun1ldmx-7>li:before{content:"\0025cb  "}ol.lst-kix_5hizejbjgrmz-4{list-style-type:none}.lst-kix_cfi6kun1ldmx-6>li:before{content:"\0025cf  "}.lst-kix_1gfkvnr97a4d-3>li:before{content:"\0025cf  "}.lst-kix_1gfkvnr97a4d-7>li:before{content:"\0025cb  "}ol.lst-kix_hanyms3abqk8-5.start{counter-reset:lst-ctn-kix_hanyms3abqk8-5 0}ol.lst-kix_5hizejbjgrmz-5{list-style-type:none}ol.lst-kix_5hizejbjgrmz-2{list-style-type:none}.lst-kix_1wnjzsjl7vfs-2>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-2}ol.lst-kix_5hizejbjgrmz-3{list-style-type:none}ol.lst-kix_hanyms3abqk8-6{list-style-type:none}ol.lst-kix_5hizejbjgrmz-8{list-style-type:none}ol.lst-kix_hanyms3abqk8-5{list-style-type:none}ol.lst-kix_hanyms3abqk8-4{list-style-type:none}ol.lst-kix_5hizejbjgrmz-6{list-style-type:none}ol.lst-kix_hanyms3abqk8-3{list-style-type:none}ol.lst-kix_5hizejbjgrmz-7{list-style-type:none}.lst-kix_1gfkvnr97a4d-4>li:before{content:"\0025cb  "}.lst-kix_hanyms3abqk8-4>li{counter-increment:lst-ctn-kix_hanyms3abqk8-4}ol.lst-kix_hanyms3abqk8-8{list-style-type:none}ol.lst-kix_hanyms3abqk8-7{list-style-type:none}ol.lst-kix_hanyms3abqk8-2.start{counter-reset:lst-ctn-kix_hanyms3abqk8-2 0}ol.lst-kix_1wnjzsjl7vfs-2.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-2 0}.lst-kix_1gfkvnr97a4d-8>li:before{content:"\0025a0  "}.lst-kix_hanyms3abqk8-5>li{counter-increment:lst-ctn-kix_hanyms3abqk8-5}.lst-kix_hanyms3abqk8-2>li{counter-increment:lst-ctn-kix_hanyms3abqk8-2}ol.lst-kix_1wnjzsjl7vfs-5.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-5 0}ol.lst-kix_1wnjzsjl7vfs-3.start{counter-reset:lst-ctn-kix_1wnjzsjl7vfs-3 0}ol.lst-kix_hanyms3abqk8-3.start{counter-reset:lst-ctn-kix_hanyms3abqk8-3 0}.lst-kix_hanyms3abqk8-7>li{counter-increment:lst-ctn-kix_hanyms3abqk8-7}.lst-kix_hanyms3abqk8-1>li{counter-increment:lst-ctn-kix_hanyms3abqk8-1}.lst-kix_5hizejbjgrmz-4>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-4}.lst-kix_1wnjzsjl7vfs-6>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-6}.lst-kix_5hizejbjgrmz-7>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-7,lower-latin) ". "}.lst-kix_5hizejbjgrmz-8>li:before{content:"" counter(lst-ctn-kix_5hizejbjgrmz-8,lower-roman) ". "}ul.lst-kix_cfi6kun1ldmx-8{list-style-type:none}ul.lst-kix_cfi6kun1ldmx-7{list-style-type:none}ul.lst-kix_cfi6kun1ldmx-6{list-style-type:none}ul.lst-kix_cfi6kun1ldmx-5{list-style-type:none}.lst-kix_1wnjzsjl7vfs-5>li{counter-increment:lst-ctn-kix_1wnjzsjl7vfs-5}ul.lst-kix_cfi6kun1ldmx-4{list-style-type:none}ul.lst-kix_cfi6kun1ldmx-3{list-style-type:none}.lst-kix_5hizejbjgrmz-3>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-3}ul.lst-kix_cfi6kun1ldmx-2{list-style-type:none}ul.lst-kix_cfi6kun1ldmx-1{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-8{list-style-type:none}.lst-kix_5hizejbjgrmz-0>li{counter-increment:lst-ctn-kix_5hizejbjgrmz-0}ul.lst-kix_1gfkvnr97a4d-7{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-6{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-5{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-4{list-style-type:none}ol.lst-kix_hanyms3abqk8-4.start{counter-reset:lst-ctn-kix_hanyms3abqk8-4 0}ul.lst-kix_1gfkvnr97a4d-3{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-2{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-1{list-style-type:none}ul.lst-kix_1gfkvnr97a4d-0{list-style-type:none}ol.lst-kix_5hizejbjgrmz-3.start{counter-reset:lst-ctn-kix_5hizejbjgrmz-3 0}ol{margin:0;padding:0}table td,table th{padding:0}.c15{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:212.5pt;border-top-color:#000000;border-bottom-style:solid}.c19{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:122.5pt;border-top-color:#000000;border-bottom-style:solid}.c27{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:123.2pt;border-top-color:#000000;border-bottom-style:solid}.c10{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:line-through;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c16{-webkit-text-decoration-skip:none;color:#000099;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c33{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:line-through;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Courier New";font-style:normal}.c23{-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:line-through;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c13{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c30{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c31{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c28{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:24pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c7{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c24{border-spacing:0;border-collapse:collapse;margin-right:auto}.c26{padding-top:18pt;padding-bottom:4pt;line-height:1.15;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c22{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:right}.c34{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:justify}.c3{padding-top:11pt;padding-bottom:2pt;line-height:1.15;text-align:left}.c0{padding-top:12pt;padding-bottom:2pt;line-height:1.15;text-align:left}.c25{padding-top:14pt;padding-bottom:4pt;line-height:1.15;text-align:left}.c29{padding-top:24pt;padding-bottom:6pt;line-height:1.15;text-align:left}.c36{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c11{color:inherit;text-decoration:inherit}.c6{margin-left:36pt;padding-left:0pt}.c18{padding:0;margin:0}.c35{margin-left:90pt}.c20{padding-left:0pt}.c4{height:0pt}.c21{margin-left:36pt}.c32{margin-left:18pt}.c17{margin-left:72pt}.c14{margin-left:54pt}.c9{color:#980000}.c12{height:11pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:700;font-size:24pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:700;font-size:18pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c36"><h1 class="c29"><span class="c28">Source Map Revision 2 Proposal</span></h1><p class="c2"><span class="c1">Applying lessons learned to the first revision</span></p><p class="c2"><span class="c1">John Lenz, Google</span></p><p class="c2"><span class="c1">August 10, 2010</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c9">This document is superseded by Revision 3:<br></span><span class="c7"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?usp%3Dsharing&amp;sa=D&amp;ust=1555239354350000">https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?usp=sharing</a></span></p><h2 class="c26"><span class="c31">Table of Contents</span></h2><p class="c2 c32"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.yff53hm1g3mr&amp;sa=D&amp;ust=1555239354351000">Source Map Revision 2 Proposal</a></span></p><p class="c2 c21"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.uxoqz2pw29sl&amp;sa=D&amp;ust=1555239354351000">Table of Contents</a></span></p><p class="c2 c21"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.5jsj41dhfasv&amp;sa=D&amp;ust=1555239354352000">Document Revisions</a></span></p><p class="c2 c14"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.6ysquh9tigpp&amp;sa=D&amp;ust=1555239354352000">Overview of the Revision 1 format</a></span></p><p class="c2 c21"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.rm0irmoc1bfe&amp;sa=D&amp;ust=1555239354353000">Proposed Revision 2 format</a></span></p><p class="c2 c14"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.ogyeevm2v1dd&amp;sa=D&amp;ust=1555239354353000">General Goals</a></span></p><p class="c2 c14"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.yporftz0gxwf&amp;sa=D&amp;ust=1555239354354000">Proposal 1 - Redundancy Reduction</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.2wi6mw4dmjyy&amp;sa=D&amp;ust=1555239354354000">Encoding</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.j3vpulbp68fa&amp;sa=D&amp;ust=1555239354355000">Long Line Handling</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.af1hk7dchxcw&amp;sa=D&amp;ust=1555239354355000">Additional Notes</a></span></p><p class="c2 c14"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.vp9rocf52ufs&amp;sa=D&amp;ust=1555239354356000">Proposal 2 - Alternate encoding</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.mwruhvna6xuf&amp;sa=D&amp;ust=1555239354356000">Segment description</a></span></p><p class="c2 c35"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.ggw6m5te1yfd&amp;sa=D&amp;ust=1555239354356000">Large ids or many repeitions</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.ufilnukvhvyy&amp;sa=D&amp;ust=1555239354357000">Example lineMapping entries</a></span></p><p class="c2 c17"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.txabj34nxrk7&amp;sa=D&amp;ust=1555239354357000">Affect on source map size</a></span></p><p class="c2 c12"><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://docs.google.com/a/google.com/document/d/1toK5DDgHdslEACv_Q4wh4Tw5r540d3nGpFSzb1jaErU/edit?hl%3Den_US%23heading%3Dh.txabj34nxrk7&amp;sa=D&amp;ust=1555239354358000"></a></span></p><h2 class="c26"><span class="c31">Document Revisions</span></h2><a id="t.f51adde2d102e675b5c374f3f6f4459d27b123bb"></a><a id="t.0"></a><table class="c24"><tbody><tr class="c4"><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c1">August 10, 2010</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c2"><span class="c1">John Lenz</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c2"><span class="c1">Initial Revision</span></p></td></tr><tr class="c4"><td class="c19" colspan="1" rowspan="1"><p class="c2"><span class="c1">August 12, 2010</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c2"><span class="c1">John Lenz</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c2"><span class="c1">minor corrections</span></p></td></tr><tr class="c4"><td class="c19" colspan="1" rowspan="1"><p class="c2 c12"><span class="c1"></span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c2 c12"><span class="c1"></span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c2 c12"><span class="c1"></span></p></td></tr></tbody></table><p class="c2 c12"><span class="c1"></span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c31">Background</span></p><p class="c2"><span class="c1">The original source map format grew out of the Closure Inspector project. &nbsp;It was designed for one thing: make it easy for Closure Inspector to reference the original source locations and names. &nbsp; This led to a couple of interesting design choices that make the original source map overly large and difficult to extend. &nbsp;Here we propose a new format for source mapping designed to minimize the overall size while still facilitating easy look up and adding the ability to have third party extensions.</span></p><h3 class="c25"><span class="c13">Overview of the Revision 1 format</span></h3><ol class="c18 lst-kix_hanyms3abqk8-0 start" start="1"><li class="c2 c6"><span class="c8">/** Begin line maps. **/{ &ldquo;file&rdquo;:&rdquo;out.js&rdquo;, &quot;count&quot;: 2 }</span></li><li class="c2 c6"><span class="c8">[0,0,0,0,0,0,1,1,1,1,2]</span></li><li class="c2 c6"><span class="c8">[2,2,2,2,2,2,3,4,4,4,4,4]</span></li><li class="c2 c6"><span class="c8">/** Begin file information. **/</span></li><li class="c2 c6"><span class="c8">[&ldquo;a.js&rdquo;, &ldquo;b.js&rdquo;]</span></li><li class="c2 c6"><span class="c8">[&ldquo;b.js&rdquo;, &ldquo;c.js&rdquo;, &ldquo;d.js&rdquo;]</span></li><li class="c2 c6"><span class="c8">/** Begin mapping definitions. **/</span></li><li class="c2 c6"><span class="c8">[&quot;a.js&quot;, 1, 34]</span></li><li class="c2 c6"><span class="c8">[&quot;a.js&quot;, 5, 2]</span></li><li class="c2 c6"><span class="c8">[&quot;b.js&quot;, 1, 3, &quot;event&quot;]</span></li><li class="c2 c6"><span class="c8">[&quot;c.js&quot;, 1, 4]</span></li><li class="c2 c6"><span class="c8">[&quot;d.js&quot;, 3, 78, &quot;foo&quot;]</span></li></ol><p class="c2 c12"><span class="c8"></span></p><p class="c2 c12"><span class="c8"></span></p><p class="c2"><span class="c1">Note: the file as a whole is not valid JSON the arrays are not part of object or an array.</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">Line 1: a magic comment followed by object with a &ldquo;count&rdquo; field.</span></p><p class="c2"><span class="c1">Line 2: begins a block of text where each line represents a line in the generated output. &nbsp;Each &nbsp;character in the generated source has an entry id which is used to map back to the original source.</span></p><p class="c2"><span class="c1">Line 4: a magic comment</span></p><p class="c2"><span class="c1">Line 5: begins a block of text where each line represents a line in the generated output listing the original source files associated with the generated line.</span></p><p class="c2"><span class="c1">Line 7: a magic comment</span></p><p class="c2"><span class="c1">Line 8: begins a block where each line represent a mapping entry with starting line and column information and an optional original symbol name.</span></p><h2 class="c26"><span class="c31">Proposed Revision 2 format</span></h2><h3 class="c25"><span class="c13">General Goals</span></h3><ul class="c18 lst-kix_1gfkvnr97a4d-0 start"><li class="c2 c6"><span class="c1">Create a format that is parseable as a whole as standard JSON.</span></li><li class="c2 c6"><span class="c1">Reduce the redundancy in the format</span></li></ul><ul class="c18 lst-kix_1gfkvnr97a4d-1 start"><li class="c2 c17 c20"><span class="c1">Use indexes for file name</span></li><li class="c2 c20 c17"><span class="c1">remove the &ldquo;file information section&rdquo;</span></li><li class="c2 c20 c17"><span class="c1">allow for a file prefix</span></li><li class="c2 c20 c17"><span class="c1">allow for gzip output</span></li></ul><ul class="c18 lst-kix_1gfkvnr97a4d-0"><li class="c2 c6"><span class="c1">Allow the format to carry &ldquo;ride along&rdquo; data to faciliate additional use cases.</span></li></ul><p class="c2 c12"><span class="c1"></span></p><h3 class="c25"><span class="c13">Proposal 1 - Redundancy Reduction</span></h3><ol class="c18 lst-kix_1wnjzsjl7vfs-0 start" start="1"><li class="c2 c6"><span class="c8">{</span></li><li class="c2 c6"><span class="c8">&nbsp;version : 2,</span></li><li class="c2 c6"><span class="c8">&nbsp;file: &ldquo;out.js&rdquo;</span></li><li class="c2 c6"><span class="c8">&nbsp;lineMaps: [</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp;[1,,,,2,,,,2],</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp;[2,,3,,,,,,3]</span></li><li class="c2 c6"><span class="c8">&nbsp; ],</span></li><li class="c2 c6"><span class="c8">&nbsp;sourceRoot : &quot;&quot;,</span></li><li class="c2 c6"><span class="c8">&nbsp;sources: [&quot;foo.js&quot;, &quot;bar.js&quot;],</span></li><li class="c2 c6"><span class="c8">&nbsp;names: [&quot;src&quot;, &quot;maps&quot;, &quot;are&quot;, &quot;fun&quot;],</span></li><li class="c2 c6"><span class="c8">&nbsp;mappings: [</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp;[1, 1, 2, 4],</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp;[</span><span class="c33">&quot;gack.js&quot; </span><span class="c8">2, 1, 2, &quot;yack&quot;],</span></li><li class="c2 c6"><span class="c8">&nbsp;],</span></li><li class="c6 c22"><span class="c8">}</span></li></ol><p class="c2 c12"><span class="c8"></span></p><p class="c2"><span class="c1">Line 1: The entire file is a single JSON object</span></p><p class="c2"><span class="c1">Line 2: File revision (always the first entry in the object)</span></p><p class="c2"><span class="c1">Line 3: The name of the file that this source map is assocaiated with.</span></p><p class="c2"><span class="c1">Line 4: &ldquo;lineMaps&rdquo; field a JSON array, where each entry represents a line in the generated text.</span></p><p class="c2"><span class="c1">Line 5: A line entry, where each entry represents a character in the line, an empty field represents repeated value. &nbsp;The first entry and last entries are never a &ldquo;repeating value&rdquo;.</span></p><p class="c2"><span class="c1">Line 8: An optional source root, useful for relocating source files on a server or removing repeated values in the &ldquo;sources&rdquo; entry.</span></p><p class="c2"><span class="c1">Line 9: A list of sources used by the &ldquo;mappings&rdquo; entry. &nbsp; </span><span class="c10">This list may be incomplete.</span></p><p class="c2"><span class="c1">Line 10: A list of symbol names used by the &ldquo;mapping&rdquo; entry. &nbsp;This list may be incomplete.</span></p><p class="c2"><span class="c1">Line 11: The mappings field.</span></p><p class="c2"><span class="c1">Line 12: Each entry represent a block of text in the original source, and consists four fields:</span></p><ul class="c18 lst-kix_cfi6kun1ldmx-0 start"><li class="c2 c6"><span class="c1">The source file name</span></li><li class="c2 c6"><span class="c1">The line in the source file the text begins</span></li><li class="c2 c6"><span class="c1">The column in the line that the text begins</span></li><li class="c2 c6"><span class="c1">An optional name (from the original source) that this entry represents. &nbsp;This can either be an string or index into the &ldquo;names&rdquo; field.</span></li><li class="c2 c6"><span class="c10">An optional object containing </span><span class="c23">namespaced</span><span class="c10">&nbsp;keys for compiler-specific metadata.</span></li></ul><p class="c2 c12"><span class="c10"></span></p><p class="c2"><span class="c10">The mappings entry for the source file and symbol name are optionally indexes into the sources and names entries.</span></p><h4 class="c0"><span class="c5">Encoding</span></h4><p class="c2"><span class="c1">The character set encoding is UTF-8.</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c5">Compression</span></p><p class="c2"><span class="c1">The file is allowed to be GZIP compressed. &nbsp; It is not expected that in-browser consumers of the the source map will support GZIP compression directly but that they will consume an uncompressed map that may be GZIPd for transport.</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c5">Extensions</span></p><p class="c2"><span class="c1">Additional fields may be added to the top level source map provided the fields begin with the &ldquo;x_&rdquo; naming convention. &nbsp;It is expected that the extensions would be classified by the project providing the extension, such as &ldquo;x_inspector_extradata&rdquo;. &nbsp; &nbsp;Field names outside the &ldquo;x_&rdquo; namespace are reserved for future revisions.</span></p><h4 class="c0"><span class="c5">Long Line Handling</span></h4><p class="c2"><span class="c1">For generated text that consist of a single very long line. &nbsp;It would be possible to split the line into known fix size pieces by replacing a lineMaps entry with an JSON object:</span></p><ol class="c18 lst-kix_5hizejbjgrmz-0 start" start="1"><li class="c2 c6"><span class="c8">linesMaps: [{</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp; segment: 512,</span></li><li class="c6 c34"><span class="c8">&nbsp; &nbsp; &nbsp; [1,...], &nbsp;// first 512 characters of the line</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp; [2,...], &nbsp;// second 512 characters of the line</span></li><li class="c2 c6"><span class="c8">&nbsp; &nbsp; &nbsp; // etc</span></li><li class="c2 c6"><span class="c8">&nbsp; }],</span></li></ol><p class="c2 c12"><span class="c8"></span></p><h4 class="c0"><span class="c5">Additional Notes</span></h4><p class="c2"><span class="c1">With this format the source map file size is approximately 1/4 of the size of the Revision 1 format in typical use.</span></p><h3 class="c25"><span class="c13">Proposal 2 - Alternate encoding</span></h3><p class="c2"><span class="c1">This proposal start with basic concepts as Proposal 1 but changes the lineMappings entry. The basic idea is to use a string rather than an array and to use Base64 encoding for the mapping ids and run length.</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">To find an value for a character, the line is decoded from the beginning of the string until a segment is found that matches character of interest (it is expected that in the normal use case, the line will be decoded once, and stored for later reference).</span></p><h4 class="c0"><span class="c5">Segment description</span></h4><p class="c2"><span class="c1">Each segment entry in the string would have one Base64 digit encoding the length of the encoded map id and the run-length of the segment. &nbsp;Since the base-64 character encodes 6-bits, it is divided up:</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">2 bits for map id encoding size (1-4 base64 digits)</span></p><p class="c2"><span class="c1">4 bits for run-length (1-16 repetitions)</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">The next 1-4 characters represent the map id. As mapping ids are expected to be sequential and generally clustered, the mapping ids in a given lineMappings entry are relative to the previous mapping (as a signed number) . &nbsp;The first mapping id of the lineMapping is offset relative to zero. &nbsp;</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">This would change the current source maps from something like this</span></p><p class="c2"><span class="c1">&nbsp; [1,1,1,2,3]</span></p><p class="c2"><span class="c1">into:</span></p><p class="c2"><span class="c1">&nbsp; &quot;CAAAAA&quot;</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">Given a sample like the following, which has already be optimized for repetitions as in Proposal 1, it is easy to see the space saving that would result from this scheme, as most of the ids are large and are just a few indexes away from each other:</span></p><p class="c2 c12"><span class="c1"></span></p><p class="c2"><span class="c1">[79901,79883,79902,79883,79880,79904,,79903,79905,,,,79903,79906,,,,,,,,79907,,79908,79911,79910,,,79909,79912,79909,79913,79909,79914,79909,79915,79909,79917,,79916,79918,79916,79919,,79916,79920,,,,,,,79916,79921,79916,79908]</span></p><h5 class="c3"><span class="c30">Large ids or many repetitions</span></h5><p class="c2"><span class="c1">As described, the encoding imposes a limit on the size of the source as mapping ids larger than 2^24 (~8M mappings) &nbsp;that can be mapped source map file and limits run lengths to 16. &nbsp;This limit is lifted by using characters outside the base64 encoding as special markers (ascii alpha-numerics are used, as well as &lsquo;+&rsquo; and &lsquo;/&rsquo;). A &quot;!&quot; is used to indicate &quot;big&quot; values and both the id size and the repetition get full base-64 characters (6 bits), so it would look like &quot;!EA012aZ&quot;. &nbsp;For ids, the use of relative ids for the rest of the line, means that most likely, this would only be used rarely. &nbsp;In practice this is only used for long repetitions. Repetition of the &nbsp;&quot;!&quot; is &nbsp;used, so that &quot;!!!!&quot; means 4 digits values for id and repetition value. For repetitions this is a very acceptable trade off.</span></p><h4 class="c0"><span class="c5">Example lineMapping entries</span></h4><p class="c2"><span class="c8">&#39;ehIREhAhAhAfAiAeAjIhAhAfMiMhEhAhAeEjAiAfAiAeAbAoAYApAXEqAhAVAtAfAjAfAiAeAeAlAbAR&#39;,</span></p><p class="c2"><span class="c8">&#39;ehIrIhAhAhAfAiAeAjAdAkIhAhAfMiMhAhIeEjAdIkAhEfAiAi4fEdAn4fAfAjAdAbAqAfAiAeAkAfAiAeAdAQ&#39;,</span></p><p class="c2"><span class="c8">&#39;ehJHIhAhAhAfAiAeAjIhAi4fAfUjEj4fAfAjAdQcAoMhMhAhIeEjAdIkAhEfAiAeUjEhYhEhAVAX&#39;,</span></p><p class="c2"><span class="c8">&#39;ehJhIhAhAhAfAiAeAjAdAkMhMhAhAfEiAiAfAiAeAdEmAhAYApAXAqAWErAhAUAtMhEhAjQfAfAkAfAiAeAdEnAfAjEfAiAeAjAdAlAfAiAeAjAdARUzEhBfe&#39;,</span></p><p class="c2"><span class="c8">&#39;ehKKIhAhAhAfAiAeAjMhMhEhEhAeEjAiAfAiAeAcEnAhAXAqAWArAVEsAhATAwQfAfAkAfAjAfAiAeAeAlAbAdYpEhAH&#39;,</span></p><p class="c2"><span class="c8">&#39;ehKpIhAhAhAfAiAeAjAdAkAcAlAiAfEjAfAiAeAjAdElAfEjAfAiAeAkAfAiAeAdQmAhAfAiAeAjAdAkAcElAhAaApQfAfAkAfAiAeAdAK&#39;,</span></p><h4 class="c0"><span class="c5">Affect on source map size</span></h4><p class="c2"><span class="c1">The size of the source map is reduced another 20-30% over the Proposal 1.</span></p><p class="c2 c12"><span class="c1"></span></p></body></html>