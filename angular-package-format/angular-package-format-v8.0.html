<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=chteh0fSOiSrmusp8u43YLibRAUGyvCIyNwOfYj8c_bhR_VWgWcrOwXV5Y0iAcf4EB11WZrEqN4bKux_paBYQQ');.lst-kix_ltv6h2h0srbi-0>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-0}.lst-kix_gncylkt9pnfp-6>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-6}ul.lst-kix_t2wg15gbqdlh-0{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-4{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-3{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-2{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-1{list-style-type:none}ol.lst-kix_464h1xntz4u6-1.start{counter-reset:lst-ctn-kix_464h1xntz4u6-1 0}ol.lst-kix_ltv6h2h0srbi-0.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-0 0}.lst-kix_464h1xntz4u6-3>li{counter-increment:lst-ctn-kix_464h1xntz4u6-3}.lst-kix_wvvp8opzjxh-1>li:before{content:"\0025cb  "}.lst-kix_wvvp8opzjxh-2>li:before{content:"\0025a0  "}.lst-kix_gncylkt9pnfp-8>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-8}.lst-kix_wvvp8opzjxh-6>li:before{content:"\0025cf  "}.lst-kix_hceg6rwrfvck-0>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-0}.lst-kix_wvvp8opzjxh-0>li:before{content:"\0025cf  "}.lst-kix_wvvp8opzjxh-7>li:before{content:"\0025cb  "}.lst-kix_wvvp8opzjxh-8>li:before{content:"\0025a0  "}.lst-kix_55o7kxqndlld-0>li:before{content:"\0025cf  "}.lst-kix_55o7kxqndlld-1>li:before{content:"\0025cb  "}.lst-kix_464h1xntz4u6-5>li{counter-increment:lst-ctn-kix_464h1xntz4u6-5}.lst-kix_wvvp8opzjxh-5>li:before{content:"\0025a0  "}.lst-kix_55o7kxqndlld-3>li:before{content:"\0025cf  "}.lst-kix_55o7kxqndlld-4>li:before{content:"\0025cb  "}.lst-kix_wvvp8opzjxh-3>li:before{content:"\0025cf  "}.lst-kix_wvvp8opzjxh-4>li:before{content:"\0025cb  "}.lst-kix_55o7kxqndlld-2>li:before{content:"\0025a0  "}.lst-kix_55o7kxqndlld-7>li:before{content:"\0025cb  "}.lst-kix_55o7kxqndlld-8>li:before{content:"\0025a0  "}ol.lst-kix_464h1xntz4u6-6.start{counter-reset:lst-ctn-kix_464h1xntz4u6-6 0}.lst-kix_55o7kxqndlld-5>li:before{content:"\0025a0  "}.lst-kix_gtuc8kkxqeud-2>li:before{content:"\0025a0  "}.lst-kix_gtuc8kkxqeud-3>li:before{content:"\0025cf  "}ol.lst-kix_hceg6rwrfvck-8.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-8 0}.lst-kix_gtuc8kkxqeud-5>li:before{content:"\0025a0  "}.lst-kix_55o7kxqndlld-6>li:before{content:"\0025cf  "}.lst-kix_gtuc8kkxqeud-4>li:before{content:"\0025cb  "}ol.lst-kix_gncylkt9pnfp-4.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-4 0}.lst-kix_464h1xntz4u6-8>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-8,lower-roman) ". "}ol.lst-kix_hceg6rwrfvck-4.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-4 0}.lst-kix_hceg6rwrfvck-4>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-4}.lst-kix_464h1xntz4u6-6>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-6,decimal) ". "}.lst-kix_464h1xntz4u6-7>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-7,lower-latin) ". "}.lst-kix_ltv6h2h0srbi-4>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-4}.lst-kix_gtuc8kkxqeud-1>li:before{content:"\0025cb  "}.lst-kix_gtuc8kkxqeud-0>li:before{content:"\0025cf  "}.lst-kix_gncylkt9pnfp-2>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-2}.lst-kix_464h1xntz4u6-0>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-0,decimal) ". "}.lst-kix_464h1xntz4u6-2>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-2,lower-roman) ". "}ol.lst-kix_hceg6rwrfvck-2{list-style-type:none}ol.lst-kix_hceg6rwrfvck-1{list-style-type:none}ol.lst-kix_hceg6rwrfvck-0{list-style-type:none}.lst-kix_464h1xntz4u6-3>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-3,decimal) ". "}ol.lst-kix_hceg6rwrfvck-6{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-8{list-style-type:none}ol.lst-kix_hceg6rwrfvck-5{list-style-type:none}ol.lst-kix_464h1xntz4u6-7.start{counter-reset:lst-ctn-kix_464h1xntz4u6-7 0}ul.lst-kix_t2wg15gbqdlh-7{list-style-type:none}ol.lst-kix_hceg6rwrfvck-4{list-style-type:none}ul.lst-kix_t2wg15gbqdlh-6{list-style-type:none}ol.lst-kix_hceg6rwrfvck-3{list-style-type:none}.lst-kix_464h1xntz4u6-4>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-4,lower-latin) ". "}ul.lst-kix_t2wg15gbqdlh-5{list-style-type:none}ol.lst-kix_hceg6rwrfvck-8{list-style-type:none}.lst-kix_464h1xntz4u6-5>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-5,lower-roman) ". "}ol.lst-kix_hceg6rwrfvck-7{list-style-type:none}ol.lst-kix_hceg6rwrfvck-3.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-3 0}ol.lst-kix_gncylkt9pnfp-3.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-3 0}ol.lst-kix_464h1xntz4u6-0.start{counter-reset:lst-ctn-kix_464h1xntz4u6-0 0}.lst-kix_464h1xntz4u6-1>li:before{content:"" counter(lst-ctn-kix_464h1xntz4u6-1,lower-latin) ". "}.lst-kix_ltv6h2h0srbi-4>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-4,lower-latin) ". "}.lst-kix_ltv6h2h0srbi-8>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-8,lower-roman) ". "}.lst-kix_gncylkt9pnfp-6>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-6,decimal) ". "}.lst-kix_hceg6rwrfvck-8>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-8}ul.lst-kix_peeyzar3h4hw-0{list-style-type:none}ul.lst-kix_peeyzar3h4hw-1{list-style-type:none}ul.lst-kix_peeyzar3h4hw-2{list-style-type:none}.lst-kix_ltv6h2h0srbi-6>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-6,decimal) ". "}ul.lst-kix_peeyzar3h4hw-3{list-style-type:none}.lst-kix_gncylkt9pnfp-4>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-4,lower-latin) ". "}ul.lst-kix_peeyzar3h4hw-4{list-style-type:none}ul.lst-kix_ra5thuka9ix0-3{list-style-type:none}ul.lst-kix_peeyzar3h4hw-5{list-style-type:none}.lst-kix_t2wg15gbqdlh-1>li:before{content:"\0025cb  "}.lst-kix_ra5thuka9ix0-0>li:before{content:"\0025cf  "}ul.lst-kix_ra5thuka9ix0-2{list-style-type:none}ul.lst-kix_peeyzar3h4hw-6{list-style-type:none}ul.lst-kix_ra5thuka9ix0-1{list-style-type:none}ul.lst-kix_peeyzar3h4hw-7{list-style-type:none}ul.lst-kix_ra5thuka9ix0-0{list-style-type:none}ul.lst-kix_peeyzar3h4hw-8{list-style-type:none}ul.lst-kix_ra5thuka9ix0-7{list-style-type:none}.lst-kix_ra5thuka9ix0-2>li:before{content:"\0025a0  "}ul.lst-kix_ra5thuka9ix0-6{list-style-type:none}.lst-kix_ltv6h2h0srbi-0>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-0,decimal) ". "}ul.lst-kix_ra5thuka9ix0-5{list-style-type:none}ul.lst-kix_ra5thuka9ix0-4{list-style-type:none}.lst-kix_gncylkt9pnfp-2>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-2,lower-roman) ". "}.lst-kix_ltv6h2h0srbi-2>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-2,lower-roman) ". "}.lst-kix_ltv6h2h0srbi-7>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-7}.lst-kix_hceg6rwrfvck-7>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-7}.lst-kix_gncylkt9pnfp-0>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-0,decimal) ". "}ol.lst-kix_ltv6h2h0srbi-4.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-4 0}ol.lst-kix_hceg6rwrfvck-7.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-7 0}.lst-kix_hj1wnw57xeg4-2>li:before{content:"-  "}.lst-kix_t2wg15gbqdlh-7>li:before{content:"\0025cb  "}ol.lst-kix_gncylkt9pnfp-2.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-2 0}ol.lst-kix_hceg6rwrfvck-5.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-5 0}ul.lst-kix_ra5thuka9ix0-8{list-style-type:none}.lst-kix_hj1wnw57xeg4-0>li:before{content:"-  "}ul.lst-kix_hj1wnw57xeg4-2{list-style-type:none}.lst-kix_t2wg15gbqdlh-3>li:before{content:"\0025cf  "}ul.lst-kix_hj1wnw57xeg4-3{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-0{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-1{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-6{list-style-type:none}ol.lst-kix_464h1xntz4u6-8.start{counter-reset:lst-ctn-kix_464h1xntz4u6-8 0}ul.lst-kix_hj1wnw57xeg4-7{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-4{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-5{list-style-type:none}ul.lst-kix_hj1wnw57xeg4-8{list-style-type:none}.lst-kix_gtuc8kkxqeud-6>li:before{content:"\0025cf  "}ol.lst-kix_ltv6h2h0srbi-7.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-7 0}.lst-kix_t2wg15gbqdlh-5>li:before{content:"\0025a0  "}.lst-kix_464h1xntz4u6-8>li{counter-increment:lst-ctn-kix_464h1xntz4u6-8}.lst-kix_gtuc8kkxqeud-8>li:before{content:"\0025a0  "}.lst-kix_gncylkt9pnfp-8>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-8,lower-roman) ". "}ol.lst-kix_gncylkt9pnfp-1.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-1 0}ol.lst-kix_ltv6h2h0srbi-5.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-5 0}.lst-kix_nbpzt4ydss8r-1>li:before{content:"-  "}.lst-kix_ra5thuka9ix0-8>li:before{content:"\0025a0  "}.lst-kix_hj1wnw57xeg4-4>li:before{content:"-  "}.lst-kix_ra5thuka9ix0-6>li:before{content:"\0025cf  "}.lst-kix_464h1xntz4u6-1>li{counter-increment:lst-ctn-kix_464h1xntz4u6-1}ol.lst-kix_gncylkt9pnfp-0.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-0 0}.lst-kix_ra5thuka9ix0-4>li:before{content:"\0025cb  "}.lst-kix_hj1wnw57xeg4-6>li:before{content:"-  "}.lst-kix_hj1wnw57xeg4-8>li:before{content:"-  "}.lst-kix_464h1xntz4u6-7>li{counter-increment:lst-ctn-kix_464h1xntz4u6-7}ol.lst-kix_ltv6h2h0srbi-6.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-6 0}.lst-kix_nbpzt4ydss8r-5>li:before{content:"-  "}.lst-kix_ltv6h2h0srbi-2>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-2}.lst-kix_ltv6h2h0srbi-8>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-8}.lst-kix_nbpzt4ydss8r-3>li:before{content:"-  "}.lst-kix_nbpzt4ydss8r-7>li:before{content:"-  "}.lst-kix_gncylkt9pnfp-4>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-4}.lst-kix_hceg6rwrfvck-2>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-2}ol.lst-kix_hceg6rwrfvck-6.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-6 0}ol.lst-kix_464h1xntz4u6-4.start{counter-reset:lst-ctn-kix_464h1xntz4u6-4 0}ul.lst-kix_wvvp8opzjxh-0{list-style-type:none}.lst-kix_464h1xntz4u6-2>li{counter-increment:lst-ctn-kix_464h1xntz4u6-2}ul.lst-kix_wvvp8opzjxh-2{list-style-type:none}ul.lst-kix_wvvp8opzjxh-1{list-style-type:none}ol.lst-kix_gncylkt9pnfp-6.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-6 0}ul.lst-kix_wvvp8opzjxh-4{list-style-type:none}ul.lst-kix_wvvp8opzjxh-3{list-style-type:none}ul.lst-kix_wvvp8opzjxh-6{list-style-type:none}ul.lst-kix_wvvp8opzjxh-5{list-style-type:none}ul.lst-kix_wvvp8opzjxh-8{list-style-type:none}ul.lst-kix_wvvp8opzjxh-7{list-style-type:none}.lst-kix_hceg6rwrfvck-1>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-1}.lst-kix_peeyzar3h4hw-4>li:before{content:"\0025cb  "}ul.lst-kix_gtuc8kkxqeud-2{list-style-type:none}ul.lst-kix_gtuc8kkxqeud-1{list-style-type:none}ul.lst-kix_gtuc8kkxqeud-0{list-style-type:none}.lst-kix_peeyzar3h4hw-5>li:before{content:"\0025a0  "}.lst-kix_hceg6rwrfvck-3>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-3,decimal) ". "}ol.lst-kix_ltv6h2h0srbi-8{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-7{list-style-type:none}.lst-kix_hceg6rwrfvck-2>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-2,lower-roman) ". "}ol.lst-kix_ltv6h2h0srbi-3.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-3 0}.lst-kix_peeyzar3h4hw-6>li:before{content:"\0025cf  "}.lst-kix_peeyzar3h4hw-8>li:before{content:"\0025a0  "}.lst-kix_hceg6rwrfvck-1>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-1,lower-latin) ". "}.lst-kix_peeyzar3h4hw-7>li:before{content:"\0025cb  "}ol.lst-kix_ltv6h2h0srbi-0{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-2{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-1{list-style-type:none}.lst-kix_gncylkt9pnfp-5>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-5}ol.lst-kix_ltv6h2h0srbi-4{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-3{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-6{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-5{list-style-type:none}ul.lst-kix_gtuc8kkxqeud-6{list-style-type:none}.lst-kix_ltv6h2h0srbi-1>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-1}ul.lst-kix_gtuc8kkxqeud-5{list-style-type:none}.lst-kix_hceg6rwrfvck-4>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-4,lower-latin) ". "}ul.lst-kix_gtuc8kkxqeud-4{list-style-type:none}ul.lst-kix_gtuc8kkxqeud-3{list-style-type:none}.lst-kix_hceg6rwrfvck-3>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-3}.lst-kix_hceg6rwrfvck-5>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-5,lower-roman) ". "}ul.lst-kix_gtuc8kkxqeud-8{list-style-type:none}ul.lst-kix_gtuc8kkxqeud-7{list-style-type:none}.lst-kix_peeyzar3h4hw-3>li:before{content:"\0025cf  "}.lst-kix_hceg6rwrfvck-7>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-7,lower-latin) ". "}.lst-kix_hceg6rwrfvck-6>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-6,decimal) ". "}.lst-kix_hceg6rwrfvck-8>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-8,lower-roman) ". "}.lst-kix_peeyzar3h4hw-2>li:before{content:"\0025a0  "}.lst-kix_peeyzar3h4hw-1>li:before{content:"\0025cb  "}.lst-kix_peeyzar3h4hw-0>li:before{content:"\0025cf  "}.lst-kix_gncylkt9pnfp-3>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-3}ul.lst-kix_dy6zlsb87bk6-0{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-2{list-style-type:none}.lst-kix_ltv6h2h0srbi-3>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-3}ul.lst-kix_dy6zlsb87bk6-1{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-4{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-3{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-6{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-5{list-style-type:none}.lst-kix_464h1xntz4u6-6>li{counter-increment:lst-ctn-kix_464h1xntz4u6-6}.lst-kix_dy6zlsb87bk6-4>li:before{content:"\0025cb  "}ul.lst-kix_dy6zlsb87bk6-8{list-style-type:none}ol.lst-kix_464h1xntz4u6-0{list-style-type:none}ul.lst-kix_dy6zlsb87bk6-7{list-style-type:none}.lst-kix_dy6zlsb87bk6-5>li:before{content:"\0025a0  "}.lst-kix_dy6zlsb87bk6-7>li:before{content:"\0025cb  "}ol.lst-kix_464h1xntz4u6-6{list-style-type:none}ol.lst-kix_464h1xntz4u6-5{list-style-type:none}.lst-kix_dy6zlsb87bk6-6>li:before{content:"\0025cf  "}ol.lst-kix_464h1xntz4u6-8{list-style-type:none}.lst-kix_dy6zlsb87bk6-8>li:before{content:"\0025a0  "}ol.lst-kix_464h1xntz4u6-7{list-style-type:none}.lst-kix_464h1xntz4u6-0>li{counter-increment:lst-ctn-kix_464h1xntz4u6-0}ol.lst-kix_464h1xntz4u6-2{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-8.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-8 0}ol.lst-kix_464h1xntz4u6-1{list-style-type:none}ol.lst-kix_464h1xntz4u6-4{list-style-type:none}ol.lst-kix_464h1xntz4u6-3{list-style-type:none}ul.lst-kix_55o7kxqndlld-5{list-style-type:none}ul.lst-kix_55o7kxqndlld-6{list-style-type:none}.lst-kix_hceg6rwrfvck-0>li:before{content:"" counter(lst-ctn-kix_hceg6rwrfvck-0,decimal) ". "}ul.lst-kix_55o7kxqndlld-3{list-style-type:none}ul.lst-kix_55o7kxqndlld-4{list-style-type:none}ul.lst-kix_55o7kxqndlld-1{list-style-type:none}ul.lst-kix_55o7kxqndlld-2{list-style-type:none}ul.lst-kix_55o7kxqndlld-0{list-style-type:none}ol.lst-kix_ltv6h2h0srbi-2.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-2 0}ul.lst-kix_55o7kxqndlld-7{list-style-type:none}ul.lst-kix_55o7kxqndlld-8{list-style-type:none}.lst-kix_dy6zlsb87bk6-3>li:before{content:"\0025cf  "}ol.lst-kix_gncylkt9pnfp-1{list-style-type:none}.lst-kix_dy6zlsb87bk6-2>li:before{content:"\0025a0  "}ol.lst-kix_gncylkt9pnfp-0{list-style-type:none}ol.lst-kix_gncylkt9pnfp-3{list-style-type:none}.lst-kix_dy6zlsb87bk6-1>li:before{content:"\0025cb  "}ol.lst-kix_gncylkt9pnfp-2{list-style-type:none}ol.lst-kix_gncylkt9pnfp-5{list-style-type:none}ol.lst-kix_gncylkt9pnfp-4{list-style-type:none}ol.lst-kix_gncylkt9pnfp-7{list-style-type:none}ol.lst-kix_gncylkt9pnfp-6{list-style-type:none}.lst-kix_dy6zlsb87bk6-0>li:before{content:"\0025cf  "}ol.lst-kix_gncylkt9pnfp-8{list-style-type:none}.lst-kix_ltv6h2h0srbi-5>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-5,lower-roman) ". "}.lst-kix_ltv6h2h0srbi-6>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-6}.lst-kix_gncylkt9pnfp-5>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-5,lower-roman) ". "}.lst-kix_ltv6h2h0srbi-7>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-7,lower-latin) ". "}.lst-kix_ra5thuka9ix0-1>li:before{content:"\0025cb  "}.lst-kix_gncylkt9pnfp-1>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-1,lower-latin) ". "}.lst-kix_gncylkt9pnfp-3>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-3,decimal) ". "}.lst-kix_t2wg15gbqdlh-0>li:before{content:"\0025cf  "}ol.lst-kix_hceg6rwrfvck-2.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-2 0}.lst-kix_ltv6h2h0srbi-1>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-1,lower-latin) ". "}.lst-kix_ltv6h2h0srbi-3>li:before{content:"" counter(lst-ctn-kix_ltv6h2h0srbi-3,decimal) ". "}ul.lst-kix_nbpzt4ydss8r-1{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-0{list-style-type:none}.lst-kix_hceg6rwrfvck-6>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-6}ul.lst-kix_nbpzt4ydss8r-5{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-4{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-3{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-2{list-style-type:none}.lst-kix_hj1wnw57xeg4-1>li:before{content:"-  "}.lst-kix_t2wg15gbqdlh-8>li:before{content:"\0025a0  "}ul.lst-kix_nbpzt4ydss8r-8{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-7{list-style-type:none}ul.lst-kix_nbpzt4ydss8r-6{list-style-type:none}ol.lst-kix_gncylkt9pnfp-5.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-5 0}.lst-kix_t2wg15gbqdlh-2>li:before{content:"\0025a0  "}.lst-kix_gtuc8kkxqeud-7>li:before{content:"\0025cb  "}ol.lst-kix_464h1xntz4u6-2.start{counter-reset:lst-ctn-kix_464h1xntz4u6-2 0}ol.lst-kix_ltv6h2h0srbi-1.start{counter-reset:lst-ctn-kix_ltv6h2h0srbi-1 0}.lst-kix_t2wg15gbqdlh-4>li:before{content:"\0025cb  "}.lst-kix_gncylkt9pnfp-0>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-0}.lst-kix_gncylkt9pnfp-7>li:before{content:"" counter(lst-ctn-kix_gncylkt9pnfp-7,lower-latin) ". "}ol.lst-kix_gncylkt9pnfp-8.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-8 0}ol.lst-kix_464h1xntz4u6-5.start{counter-reset:lst-ctn-kix_464h1xntz4u6-5 0}.lst-kix_t2wg15gbqdlh-6>li:before{content:"\0025cf  "}ol.lst-kix_hceg6rwrfvck-1.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-1 0}.lst-kix_hceg6rwrfvck-5>li{counter-increment:lst-ctn-kix_hceg6rwrfvck-5}.lst-kix_nbpzt4ydss8r-0>li:before{content:"-  "}.lst-kix_hj1wnw57xeg4-3>li:before{content:"-  "}ol.lst-kix_gncylkt9pnfp-7.start{counter-reset:lst-ctn-kix_gncylkt9pnfp-7 0}.lst-kix_hj1wnw57xeg4-5>li:before{content:"-  "}.lst-kix_hj1wnw57xeg4-7>li:before{content:"-  "}.lst-kix_nbpzt4ydss8r-8>li:before{content:"-  "}.lst-kix_ra5thuka9ix0-5>li:before{content:"\0025a0  "}.lst-kix_ra5thuka9ix0-3>li:before{content:"\0025cf  "}ol.lst-kix_464h1xntz4u6-3.start{counter-reset:lst-ctn-kix_464h1xntz4u6-3 0}.lst-kix_464h1xntz4u6-4>li{counter-increment:lst-ctn-kix_464h1xntz4u6-4}ol.lst-kix_hceg6rwrfvck-0.start{counter-reset:lst-ctn-kix_hceg6rwrfvck-0 0}.lst-kix_gncylkt9pnfp-7>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-7}.lst-kix_ltv6h2h0srbi-5>li{counter-increment:lst-ctn-kix_ltv6h2h0srbi-5}.lst-kix_nbpzt4ydss8r-4>li:before{content:"-  "}.lst-kix_gncylkt9pnfp-1>li{counter-increment:lst-ctn-kix_gncylkt9pnfp-1}.lst-kix_nbpzt4ydss8r-2>li:before{content:"-  "}.lst-kix_nbpzt4ydss8r-6>li:before{content:"-  "}.lst-kix_ra5thuka9ix0-7>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c41{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.5pt;border-top-color:#000000;border-bottom-style:solid}.c10{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100.5pt;border-top-color:#000000;border-bottom-style:solid}.c16{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:192pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:370.5pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:229.5pt;border-top-color:#000000;border-bottom-style:solid}.c39{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168.8pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c34{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:97.5pt;border-top-color:#000000;border-bottom-style:solid}.c40{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:303pt;border-top-color:#000000;border-bottom-style:solid}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Open Sans";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:11pt}.c42{padding-top:0pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:center}.c21{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c28{padding-top:10pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:left}.c49{color:#434343;text-decoration:none;vertical-align:baseline;font-size:14pt;font-style:normal}.c57{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c19{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c54{border-spacing:0;border-collapse:collapse;margin-right:auto}.c3{color:#666600;text-decoration:none;vertical-align:baseline;font-style:normal}.c4{color:#008800;text-decoration:none;vertical-align:baseline;font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c51{margin-left:-22.5pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c33{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c48{margin-left:-24.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c50{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:center}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c22{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c17{background-color:#efefef;font-family:"Consolas";font-weight:400}.c23{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c45{font-weight:400;font-size:16pt;font-family:"Trebuchet MS"}.c53{color:#000000;text-decoration:none;vertical-align:baseline}.c1{font-size:9pt;font-family:"Consolas";font-weight:400}.c37{background-color:#efefef;font-size:13pt}.c9{margin-left:22.5pt;padding-left:0pt}.c15{margin-left:36pt;padding-left:0pt}.c32{font-weight:400;font-family:"Arial"}.c35{padding:0;margin:0}.c29{color:inherit;text-decoration:inherit}.c11{orphans:2;widows:2}.c30{font-weight:400;font-family:"Consolas"}.c14{font-weight:400;font-family:"Open Sans"}.c46{font-weight:400;font-family:"Source Code Pro"}.c7{font-weight:700;font-family:"Open Sans"}.c52{margin-left:-27pt}.c24{color:#000088}.c56{background-color:#d9d9d9}.c38{height:11pt}.c58{margin-left:3.8pt}.c25{font-size:21pt}.c43{font-style:italic}.c13{margin-left:1.5pt}.c6{color:#666600}.c27{font-size:11pt}.c20{height:0pt}.c47{background-color:#cccccc}.c44{background-color:#f3f3f3}.c18{background-color:#ffff00}.c12{color:#008800}.c55{margin-right:-36.8pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{background-color:#efefef;padding-top:10pt;color:#000000;font-weight:700;font-size:13pt;padding-bottom:0pt;font-family:"Open Sans";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c23"><p class="c42 title" id="h.k0mh3o8u5hx"><span class="c14 c25">Angular Package </span><span class="c14 c25">Format</span><span class="c19 c14 c25">&nbsp;(APF) v8.0</span></p><p class="c50"><span class="c0">authors: iminar@ &amp; jasonaden@, last update: 2019-02-20, status: implemented</span></p><p class="c50"><span class="c14">doc url: </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://goo.gl/jB3GVv&amp;sa=D&amp;ust=1555232405885000">https://goo.gl/jB3GVv</a></span><span class="c14">, edit/comment url: </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://goo.gl/NGBfjF&amp;sa=D&amp;ust=1555232405885000">https://goo.gl/NGBfjF</a></span><span class="c0">&nbsp;</span></p><p class="c50"><span class="c14">previous version archive: </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://docs.google.com/document/d/1t7DreFnEtZCQiSzrWggK8VGf-scQ5goWHloDhRwAOOo/edit%23heading%3Dh.k0mh3o8u5hx&amp;sa=D&amp;ust=1555232405885000">v4</a></span><span class="c14">, </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://docs.google.com/document/d/1tdgcvdLKsYPHlgNBppGFrsaA1eINLxJi9C8KkyrH2sI/edit%23heading%3Dh.k0mh3o8u5hx&amp;sa=D&amp;ust=1555232405886000">v5</a></span><span class="c14">, </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://docs.google.com/document/d/1AxflD8soVAxDiGrxXJ7GHUgao7xyygJnCbzJzbZx19Y/preview&amp;sa=D&amp;ust=1555232405886000">v6</a></span></p><p class="c50 c38"><span class="c0"></span></p><p class="c5"><span class="c14">This document</span><span class="c14">&nbsp;describes the structure and format of the Angular framework packages currently available on npm. This format applies to packages distributing Angular components (like Angular Material) as well as &nbsp;the core framework packages published under the </span><span class="c17">@angular</span><span class="c14">&nbsp;namespace, such as </span><span class="c17">@angular/core</span><span class="c14">&nbsp;and </span><span class="c17">@angular/forms</span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The format described here uses a distinct file layout and metadata configuration that enables a package to work seamlessly under most common scenarios where Angular is used, and makes it compatible with the tooling offered by the Angular team and the community itself. For that reason, third-party library developers are also strongly encouraged to follow the same structure.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The versioning of the format is aligned with the versioning of Angular itself and we expect the format to evolve in forward-compatible way to support the needs of the Angular component and tooling ecosystem.</span></p><p class="c2"><span class="c0"></span></p><h1 class="c21" id="h.fazhvmwu2op7"><span class="c19 c45">Useful Community Resources</span></h1><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">Juri Strumpflohner covered the Angular Package Format in depth in his ng-be 2017 talk </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DK4YMmwxGKjY&amp;sa=D&amp;ust=1555232405888000">Create and publish Angular libs like a Pro</a></span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">There are two community tools that helps with the process of scaffolding a library project and setting up the build system:</span></p><p class="c2"><span class="c0"></span></p><ul class="c35 lst-kix_55o7kxqndlld-0 start"><li class="c5 c15"><span class="c14">Jurgen Van de Moere created a Yeoman generator </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/jvandemo/generator-angular2-library&amp;sa=D&amp;ust=1555232405888000">generator-angular2-library</a></span></li><li class="c5 c15"><span class="c14">David Herges created </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/dherges/ng-packagr&amp;sa=D&amp;ust=1555232405889000">ng-packagr</a></span><span class="c14">&nbsp;which allows libraries to be built and packaged using a single command</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c21" id="h.ez1a724qen7l"><span class="c19 c45">Purpose of the package format</span></h1><p class="c5"><span class="c0">In today&rsquo;s JavaScript landscape, developers will consume packages in many different ways. For example, some may use SystemJS, others could use Webpack. Still, others might consume packages in Node or maybe in the browser as a UMD bundle or through global variable access.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The Angular distribution package supports all of the commonly used development tools and workflow, and adds emphasis on optimizations that result either in smaller application payload size or faster development iteration cycle (build time).</span></p><p class="c2"><span class="c0"></span></p><h1 class="c21" id="h.8ye3ra6kh3w2"><span>File layout</span></h1><p class="c5"><span class="c0">This is an abbreviated version of the @angular/core package with explanation of the purpose of various files.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14 c43">Note: in APF v6 and before, each entry point would have a `src` directory next to the .d.ts entry point. This is still allowed in v8, but we now prefer to run the .d.ts bundler tool from </span><span class="c22 c14 c43"><a class="c29" href="https://www.google.com/url?q=https://api-extractor.com/&amp;sa=D&amp;ust=1555232405890000">https://api-extractor.com/</a></span><span class="c14 c43 c27 c53">&nbsp;so that the entire API appears in a single file. This avoids users finding deep-import paths offered by their editor and accidentally importing private symbols from them.</span></p><p class="c2"><span class="c0"></span></p><p class="c2 c52"><span class="c3 c1"></span></p><a id="t.d3319e0e216eea17cedcc34e99df1a30bc5531c7"></a><a id="t.0"></a><table class="c48"><tbody><tr class="c20"><td class="c31" colspan="1" rowspan="1"><p class="c5 c13"><span class="c1">node_modules</span><span class="c1 c6">/</span><span class="c1">@angular</span><span class="c1 c6">/</span><span class="c19 c1">core</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;README</span><span class="c1 c6">.</span><span class="c19 c1">md</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;esm2015</span></p><p class="c5 c13"><span class="c1">| &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472; core</span></p><p class="c5 c13"><span class="c1">| &nbsp; | &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;....js</span></p><p class="c5 c13"><span class="c1">| &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472; testing</span></p><p class="c5 c13"><span class="c1">| &nbsp; | &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;....js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES2015)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;testing</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c19 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;</span><span class="c1">esm5</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES5)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;testing</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;fesm2015</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES2015)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;testing</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;f</span><span class="c1">esm5</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES5)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;testing</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c19 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;bundles</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">umd</span><span class="c1 c6">.</span><span class="c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">.</span><span class="c1">umd.min</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;core-testing</span><span class="c1 c6">.</span><span class="c1">umd</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;core</span><span class="c1 c6">-</span><span class="c1">testing</span><span class="c1 c6">.</span><span class="c1">umd.min</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;package</span><span class="c1 c6">.</span><span class="c19 c1">json </span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp;typings: ./core.d.ts</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; &nbsp; main: ./bundles/core.umd.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; module: ./esm5/core.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; es2015: ./esm2015/core.js</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;core.d.ts</span></p><p class="c5 c13"><span class="c19 c1">&#9500;&#9472;&#9472; core.metadata.json</span></p><p class="c5 c13"><span class="c19 c1">&#9500;&#9472;&#9472; testing.d.ts</span></p><p class="c5 c13"><span class="c1">&#9500;&#9472;&#9472; testing.metadata.json</span></p><p class="c5 c13"><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing</span></p><p class="c5 c13"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.d.ts</span></p><p class="c5 c13"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;testing.metadata.json</span></p><p class="c5 c13"><span class="c1 c6">&nbsp; &nbsp; &#9492;&#9472;&#9472;</span><span class="c19 c1">&nbsp;package.json </span></p><p class="c5 c13"><span class="c19 c1">&nbsp; &nbsp; typings: ./testing.d.ts</span></p><p class="c5 c13"><span class="c19 c1">&nbsp; &nbsp; main: ../bundles/core-testing.umd.js</span></p><p class="c5 c13"><span class="c19 c1">&nbsp; &nbsp; module: ../esm5/testing.js</span></p><p class="c5 c13"><span class="c1">&nbsp; &nbsp; es2015: ../esm2015/testing.js</span></p></td><td class="c40" colspan="1" rowspan="1"><ul class="c35 lst-kix_nbpzt4ydss8r-0 start"><li class="c5 c9"><span class="c3 c1">Package root</span></li><li class="c5 c9"><span class="c3 c1">Readme file used by npmjs web UI<br></span></li></ul><p class="c2"><span class="c3 c1"></span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Directory containing individual internal modules.</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Modules - &nbsp;all paths to these files are private api.</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Similar to &quot;core&quot; but for secondary entry-points</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Same as above.</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Public module that reexports all symbols under core/</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Source map</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Public module that reexports all symbols under testing/</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Source map</span></p><p class="c2"><span class="c3 c1"></span></p><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">ESM+ES5 distribution. This directory should look identical to the ESM2015 directory<br><br></span></li></ul><p class="c2"><span class="c3 c1"><br></span></p><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">Directory containing fesm2015 files</span></li><li class="c5 c9"><span class="c3 c1">ESM+ES2015 flat module (fesm)</span></li><li class="c5 c9"><span class="c3 c1">Source map (map files exist next to all .js files)</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point within the @angular/core package.<br></span></li></ul><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Directory containing fesm2015 files</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;ESM+ES2015 flat module (fesm)</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Source map (map files exist next to all .js files)</span></p><p class="c5"><span class="c3 c1">&nbsp;- &nbsp;Secondary entry point within the @angular/core package.</span></p><p class="c2"><span class="c3 c1"></span></p><p class="c2"><span class="c3 c1"></span></p><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">Directory that contains all bundles (UMD/ES5)</span></li><li class="c5 c9"><span class="c3 c1">Primary bundle. Filename: $PKGNAME.umd.js</span></li><li class="c5 c9"><span class="c3 c1">Primary minified bundle. $PKGNAME.umd.min.js</span></li><li class="c5 c9"><span class="c3 c1">Secondary bundles are prefixed with &quot;$PKGNAME-&quot;</span></li><li class="c5 c9"><span class="c3 c1">Minified secondary bundle<br></span></li><li class="c5 c9"><span class="c3 c1">Primary package.json. Contains the keys listed to the left, pointing to typings root as well as the main bundle and flat modules.<br><br><br></span></li><li class="c5 c9"><span class="c3 c1">Primary flattened type definitions</span></li><li class="c5 c9"><span class="c3 c1">Metadata used by AOT compiler</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point type defs re-exported</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point metadata<br></span></li><li class="c5 c9"><span class="c3 c1">Secondary flattened type definitions</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point dir (testing, animations, etc)</span></li><li class="c2 c9"><span class="c3 c1"></span></li><li class="c5 c9"><span class="c3 c1">Type defs</span></li><li class="c5 c9"><span class="c3 c1">Metadata</span></li><li class="c5 c9"><span class="c1 c3">Secondary entry point package.json. Maps typings and JavaScript files similar to the primary entry package.json</span></li></ul><p class="c2 c55 c58"><span class="c3 c1"></span></p><p class="c2 c55"><span class="c3 c1"></span></p></td></tr></tbody></table><p class="c2 c52"><span class="c3 c1"></span></p><p class="c2"><span class="c3 c1"></span></p><p class="c5"><span class="c0">This package layout allows us to support the following usage-scenarios and environments:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.de4302d3016e172cf28241fc3c28ec57bd454732"></a><a id="t.1"></a><table class="c51"><tbody><tr class="c20"><td class="c10 c47" colspan="1" rowspan="1"><p class="c33"><span class="c19 c7 c27">Build / Bundler / Consumer</span></p></td><td class="c41 c47" colspan="1" rowspan="1"><p class="c8"><span class="c19 c7 c27">Module Format</span></p></td><td class="c39 c47" colspan="1" rowspan="1"><p class="c8"><span class="c19 c7 c27">Primary Entry Point resolves to</span></p></td><td class="c16 c47" colspan="1" rowspan="1"><p class="c8"><span class="c19 c7 c27">Secondary Entry Points resolves to</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c14">WebPack (optimized) </span><span class="c0">/ Closure Compiler</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">ESM+</span></p><p class="c8"><span class="c14">ES2015</span></p><p class="c8"><span class="c0">(flattened)</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c1">fesm2015</span><span class="c1">/core.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">fesm2015/testing.js</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c0">CLI / Rollup / WebPack</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">ESM+ES5</span></p><p class="c8"><span class="c0">(flattened)</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c1">fesm5</span><span class="c1">/core.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">fesm5/testing.js</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c14">WebPack</span><span class="c0">&nbsp;v4 (optimized)</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">ESM+</span></p><p class="c8"><span class="c14">ES2015</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c1">esm2015</span><span class="c1">/core.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">esm2015/testing/testing.js</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c14">WebPack</span><span class="c0">&nbsp;v4</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">ESM+</span></p><p class="c8"><span class="c14">ES5</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c1">esm5</span><span class="c1">/core.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">esm5/testing/testing.js</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c0">Plunker / Fiddle / ES5 / script tag</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">UMD</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">Requires manual resolution by the developer to: </span></p><p class="c8 c38"><span class="c19 c1"></span></p><p class="c8"><span class="c1">bundles</span><span class="c19 c1">/core.umd.js and bundles/core.umd.min.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">Requires manual resolution by the developer to: </span></p><p class="c8 c38"><span class="c19 c1"></span></p><p class="c8"><span class="c19 c1">bundles/core-testing.umd.js </span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c0">Node.js</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">UMD</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">bundles/core.umd.js</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">bundles/core-testing.umd.js </span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c0">TypeScript</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">ESM+d.ts</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c1">core</span><span class="c1">.d.ts</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">testing/testing.d.ts</span></p></td></tr><tr class="c20"><td class="c10" colspan="1" rowspan="1"><p class="c33"><span class="c0">AOT compilation</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c8"><span class="c0">.metadata.json</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">@angular/core/core.metadata.json</span></p></td><td class="c16" colspan="1" rowspan="1"><p class="c8"><span class="c19 c1">@angular/core/testing.metadata.json</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c3 c1"></span></p><h1 class="c21" id="h.l1o89b2mgugo"><span class="c19 c45">Library File layout</span></h1><p class="c5"><span class="c0">Libraries should use generally the same layout, but there are characteristics in libraries that are different from the Angular framework.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">Typically libraries are split at the component or functional level. Let&rsquo;s take an example such as Angular&rsquo;s Material project.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">Angular Material publishes sets of components such as </span><span class="c17">Button</span><span class="c14">&nbsp;(a single component), </span><span class="c17">Tabs</span><span class="c14">&nbsp;(a set of components that work together), etc. The common ground is the </span><span class="c17">NgModule</span><span class="c14">&nbsp;that binds these functional areas together. There is a single </span><span class="c17">NgModule</span><span class="c14">&nbsp;for </span><span class="c17">Button</span><span class="c14">, another for </span><span class="c17">Tabs</span><span class="c0">, and so on.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">The general rule in the Angular Package Format is to produce a FESM file for the smallest set of logically connected code. For example, the Angular package has a single FESM for </span><span class="c17">@angular/core</span><span class="c14">. When a developer uses the Component symbol in </span><span class="c17">@angular/core</span><span class="c14">, there are transitive dependencies such as </span><span class="c17">Injectable</span><span class="c14">, </span><span class="c17">View</span><span class="c14">, </span><span class="c17">Renderer</span><span class="c14">, etc. Therefore all these pieces are bundled together into a single FESM. For most libraries, this common bundling point would be an </span><span class="c17">NgModule</span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">Here is an example of how the Angular Material project would look in this format:</span></p><p class="c2"><span class="c0"></span></p><p class="c2 c52"><span class="c3 c1"></span></p><a id="t.e84dba519dcedcb1c9e554b693fdf99a76ad28aa"></a><a id="t.2"></a><table class="c48"><tbody><tr class="c20"><td class="c31" colspan="1" rowspan="1"><p class="c5 c13"><span class="c1">node_modules</span><span class="c1 c6">/</span><span class="c19 c1">@angular/material</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;README</span><span class="c1 c6">.</span><span class="c19 c1">md</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;fesm2015</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;index</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES2015)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;index</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;button.js</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;button.js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;tabs.js</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; </span><span class="c1 c6">&#9500;</span><span class="c1 c6">&#9472;&#9472;</span><span class="c19 c1">&nbsp;tabs.js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9492;&#9472;&#9472;</span><span class="c19 c1">&nbsp;...others</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;fesm5</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;index</span><span class="c1 c6">.</span><span class="c1">js (ESM/ES5)</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;index</span><span class="c1 c6">.</span><span class="c19 c1">js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;button.js</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;button.js.map</span></p><p class="c5 c13"><span class="c1 c6">| &nbsp; &#9492;&#9472;&#9472;</span><span class="c19 c1">&nbsp;...others</span></p><p class="c5 c13"><span class="c19 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;bundles</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;material</span><span class="c1 c6">.</span><span class="c1">umd</span><span class="c1 c6">.</span><span class="c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;material</span><span class="c1 c6">.</span><span class="c1">umd.min</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;material-button</span><span class="c1 c6">.</span><span class="c1">umd</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;material-button</span><span class="c1 c6">.</span><span class="c1">umd.min</span><span class="c1 c6">.</span><span class="c1">js</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;material-[component]</span><span class="c1 c6">.</span><span class="c1">umd</span><span class="c1 c6">.</span><span class="c19 c1">js</span></p><p class="c5 c13"><span class="c3 c1">&#9474;</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;tabs</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;index.d.ts</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;index.metadata.json</span></p><p class="c5 c13"><span class="c1 c6">&#9474;</span><span class="c1">&nbsp; &nbsp;</span><span class="c1 c6">&#9492;&#9472;&#9472;</span><span class="c1">&nbsp;package.json</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; typings: ./index.d.ts</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; main: ../bundles/material-tabs.umd.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; module: ../fesm5/tabs/index.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; es2015: ../fesm2015/tabs/index.js</span></p><p class="c5 c13"><span class="c3 c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c1">&nbsp;package</span><span class="c1 c6">.</span><span class="c19 c1">json </span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp;typings: ./index.d.ts</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; &nbsp; main: ./bundles/material.umd.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; module: ./fesm5/index.js</span></p><p class="c5 c13"><span class="c19 c1">| &nbsp; &nbsp; &nbsp; es2015: ./fesm2015/index.js</span></p><p class="c5 c13"><span class="c1">|</span></p><p class="c5 c13"><span class="c1 c6">&#9500;&#9472;&#9472;</span><span class="c19 c1">&nbsp;index.d.ts</span></p><p class="c5 c13"><span class="c1 c6">&#9492;</span><span class="c1">&#9472;&#9472; index.metadata.json</span></p></td><td class="c40" colspan="1" rowspan="1"><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">Package root</span></li><li class="c5 c9"><span class="c3 c1">Readme file used by npmjs web UI<br></span></li><li class="c5 c9"><span class="c3 c1">Directory containing ESM2015 files</span></li><li class="c5 c9"><span class="c3 c1">This index re-exports from @angular/material/button, tabs, etc</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry points are flattened into a single JavaScript file<br><br></span></li></ul><p class="c2"><span class="c3 c1"><br></span></p><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">ESM+ES5 flat modules. This directory should look identical to the ESM2015 directory using ECMAScript Modules but with an ES5 language level.<br><br></span></li></ul><p class="c2"><span class="c3 c1"><br></span></p><ul class="c35 lst-kix_nbpzt4ydss8r-0"><li class="c5 c9"><span class="c3 c1">Directory that contains all bundles (UMD/ES5)</span></li><li class="c5 c9"><span class="c3 c1">Primary bundle. Filename: $PKGNAME.umd.js</span></li><li class="c5 c9"><span class="c3 c1">Primary minified bundle. $PKGNAME.umd.min.js</span></li><li class="c5 c9"><span class="c3 c1">Secondary bundles are prefixed with &quot;$PKGNAME-&quot;</span></li><li class="c5 c9"><span class="c3 c1">Minified secondary bundle</span></li><li class="c5 c9"><span class="c3 c1">Others...<br></span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point dir (button, tabs, etc)</span></li><li class="c5 c9"><span class="c3 c1">Type def reference to src directory</span></li><li class="c5 c9"><span class="c3 c1">Flat Module metadata file</span></li><li class="c5 c9"><span class="c3 c1">Secondary entry point package.json. Maps typings and JavaScript files similar to the primary entry package.json<br><br><br></span></li><li class="c5 c9"><span class="c3 c1">Primary package.json. Contains the keys listed to the left, pointing to typings root as well as the main bundle and flat modules.<br><br><br></span></li><li class="c5 c9"><span class="c3 c1">Primary d.ts entry point</span></li><li class="c5 c9"><span class="c3 c1">Metadata used by AOT compiler</span></li></ul></td></tr></tbody></table><p class="c2 c52"><span class="c3 c1"></span></p><p class="c2"><span class="c3 c1"></span></p><h2 class="c28 c11" id="h.jt2mvxhyrshv"><span class="c19 c37 c7">README.md</span></h2><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The readme file is used to display marked up description of a package on npm and github.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">Example readme content of @angular/core package:</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c19 c30 c27">Angular</span></p><p class="c5"><span class="c19 c30 c27">=======</span></p><p class="c2"><span class="c19 c30 c27"></span></p><p class="c5"><span class="c19 c30 c27">The sources for this package are in the main [Angular](https://github.com/angular/angular) repo. Please file issues and pull requests against that repo.</span></p><p class="c2"><span class="c19 c30 c27"></span></p><p class="c5"><span class="c19 c30 c27">License: MIT</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h2 class="c28 c11" id="h.of267ihir9wt"><span class="c19 c37 c7">Primary Entry-point</span></h2><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">Primary entry point of the package is the module with module id matching the name of the package (e.g. for &quot;@angular/core&quot; package, the import from the primary entry-point looks like: </span><span class="c30">import {Component, ...} from &#39;@angular/core&#39;</span><span class="c0">).</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The primary entry-point is configured primarily via the package.json in the package root via the following properties:</span></p><p class="c2"><span class="c0"></span></p><a id="t.3c673c91e1d5154a81aab861262fc3445176e138"></a><a id="t.3"></a><table class="c54"><tbody><tr class="c20"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c19 c1">{</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;name&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;@angular/core&quot;</span><span class="c1 c6">, </span><span class="c1"><br> &nbsp;</span><span class="c1 c12">&quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;./fesm5/core.js&quot;</span><span class="c1 c6">, </span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;es2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;./fesm2015/core.js&quot;</span><span class="c3 c1">, </span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;esm5&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;./esm5/core.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;esm2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;./esm2015/core.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;fesm5&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;./fesm5/core.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;fesm2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;./fesm2015/core.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;main&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;bundles/core.umd.js&quot;</span><span class="c1 c6">, </span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;typings&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;core.d.ts&quot;,</span></p><p class="c5"><span class="c4 c1">&nbsp; &quot;sideEffects&quot;: false</span></p><p class="c5"><span class="c19 c1">}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.4f8154bd47231309ae8e9da197625d2c042125a1"></a><a id="t.4"></a><table class="c54"><tbody><tr class="c20"><td class="c34 c47" colspan="1" rowspan="1"><p class="c33"><span class="c19 c7 c27">Property Name</span></p></td><td class="c36 c47" colspan="1" rowspan="1"><p class="c33"><span class="c19 c7 c27">Purpose</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">module</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c5"><span class="c0">Tools consuming ESM+ES5 (CLI, WebPack, Rollup).</span></p><p class="c5"><span class="c14">This entry-point currently points these tools to fems5 (</span><span class="c22 c14"><a class="c29" href="#h.3kkc9d322g9f">note on reasoning</a></span><span class="c0">).</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">es2015</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Property is used by tools consuming ESM+ES2015 (Closure, custom Webpack build).</span></p><p class="c33"><span class="c14">This entry-point currently points these tools to fesm2015 (</span><span class="c22 c14"><a class="c29" href="#h.3kkc9d322g9f">note on reasoning</a></span><span class="c0">).</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">fesm5</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Points to the entry-point for the flattened ESM+ES5 distribution.</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">fesm2015</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Points to the entry-point for the flattened ESM+ES2015 distribution.</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">esm5</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Points to the entry-point for the unflattened ESM+ES5 distribution.</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">esm2015</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Points to the entry-point for the unflattened ESM+ES2015 distribution.</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c33"><span class="c0">main</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c33"><span class="c0">Node.js</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c5"><span class="c0">typings</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c5"><span class="c0">typescript compiler (tsc)</span></p></td></tr><tr class="c20"><td class="c34" colspan="1" rowspan="1"><p class="c5"><span class="c0">sideEffects</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c5"><span class="c14">webpack v4+ specific flag to enable advanced optimizations and code splitting (</span><span class="c22 c14"><a class="c29" href="#h.wdpbhi4bw1u8">see note</a></span><span class="c0">)</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h2 class="c28 c11" id="h.86kleilwni71"><span class="c19 c37 c7">Secondary Entry-point</span></h2><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">Besides the primary entry point, a package can contain zero or more secondary entry points (e.g. </span><span class="c30 c44">@angular/core/testing</span><span class="c0">). These contain symbols that we don&#39;t want to group together with the symbols in the main entry point for two reasons:</span></p><p class="c2"><span class="c0"></span></p><ol class="c35 lst-kix_464h1xntz4u6-0 start" start="1"><li class="c5 c15"><span class="c0">users typically perceive them as distinct from the main group of symbols, and if they were pertinent to the main group of symbols they would have already been there.</span></li><li class="c5 c15"><span class="c0">the symbols in the secondary group are typically only used in a certain scenario (e.g. when writing and running tests). My not including these symbols in the main entry-point we reduce the chance of them being accidentally used incorrectly (e.g. using testing mocks in production code).</span></li></ol><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">Module ID of an import for a secondary entry point directs a module loader to a directory by the secondary entry point&rsquo;s name. For instance, &ldquo;@angular/core/testing&rdquo; resolves to a directory by the same name, &ldquo;@angular/core/testing&rdquo;. This directory contains a package.json file that directs the loader to the correct location for what it&rsquo;s looking for. This allows us to create multiple entry points within a single package.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The contents of the package.json for the secondary entry point can be as simple as:</span></p><p class="c2"><span class="c0"></span></p><a id="t.eadc9d67b2074f40318b42a83b948e87c321b0ce"></a><a id="t.5"></a><table class="c54"><tbody><tr class="c20"><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c19 c1">{</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;name&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;@angular/core/testing&quot;</span><span class="c1 c6">, </span></p><p class="c5"><span class="c1 c12">&nbsp; &quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;../fesm5/testing.js&quot;</span><span class="c3 c1">, </span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;es2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;../fesm2015/testing.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;esm5&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;../esm5/testing.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;esm2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;../esm2015/testing.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;fesm5&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;../fesm5/testing.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;fesm2015&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;../fesm2015/testing.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;main&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;../bundles/core-testing.umd.js&quot;</span><span class="c1 c6">, </span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;typings&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;./testing.d.ts&quot;,</span></p><p class="c5"><span class="c4 c1">&nbsp; &quot;sideEffects&quot;: false</span></p><p class="c5"><span class="c19 c1">}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">This is an example of @angular/core/testing/package.json that simply redirects @angular/core/testing imports to the appropriate bundle, flat module, or typings.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c21" id="h.8wg8i4t9q15t"><span class="c19 c45">Compilation and transpilation</span></h1><p class="c5 c11"><span>In order to produce all the required build artifacts, we strongly suggest that you use Angular compiler (ngc) to compile your code with the following settings in </span><span class="c30">tsconfig.json</span><span class="c19 c32 c27">:</span></p><p class="c2 c11"><span class="c19 c27 c32"></span></p><p class="c5 c11"><span class="c19 c32 c27">ESM5:</span></p><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5 c11"><span class="c19 c1">{</span></p><p class="c5 c11"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;compilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;declaration&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;es2015&quot;,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c18 c12">&quot;target&quot;</span><span class="c1 c6 c18">:</span><span class="c1 c18">&nbsp;</span><span class="c1 c12 c18">&quot;es5</span><span class="c1 c18 c12">&quot;</span></p><p class="c5 c11"><span class="c1">&nbsp; </span><span class="c1 c6">},</span></p><p class="c5 c11"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;angularCompilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;strictMetadataEmit&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;skipTemplateCodegen&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleOutFile&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;my-ui-lib.js&quot;,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleId&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;my-ui-lib&quot;,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;annotateForClosureCompiler&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true</span></p><p class="c5 c11"><span class="c19 c1">&nbsp; }</span></p><p class="c5 c11"><span class="c1">}</span></p><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5"><span class="c0">ESM2015:</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c19 c1">{</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;compilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;declaration&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;es2015&quot;,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c18 c12">&quot;target&quot;</span><span class="c1 c6 c18">:</span><span class="c1 c18">&nbsp;</span><span class="c1 c18 c12">&quot;es2015&quot;</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c6">},</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;angularCompilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;strictMetadataEmit&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;skipTemplateCodegen&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleOutFile&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;my-ui-lib.js&quot;,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleId&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;my-ui-lib&quot;,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;annotateForClosureCompiler&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c24">true</span></p><p class="c5"><span class="c19 c1">&nbsp; }</span></p><p class="c5"><span class="c19 c1">}</span></p><p class="c2"><span class="c0"></span></p><h1 class="c21 c11" id="h.35bveruw68i7"><span class="c19 c45">Optimizations</span></h1><p class="c2 c11"><span class="c19 c32 c27"></span></p><h2 class="c28" id="h.ve6e6mrugckx"><span class="c19 c37 c7">Flattening of ES Modules</span></h2><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5"><span class="c14">We strongly recommend that you optimize the build artifacts before publishing your build artifacts to npm, by flattening the ES Modules. This significantly reduces the build time of Angular applications as well as download and parse time of the final application bundle. Please check out the excellent post &quot;</span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/&amp;sa=D&amp;ust=1555232405948000">The cost of small modules</a></span><span class="c0">&quot; by Nolan Lawson.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">Angular compiler has support for generating index ES module files that can then be used to flattened module using tools like Rollup, resulting in a file format we call Flattened ES Module or FESM.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">FESM is a file format created by flattening all ES Modules accessible from an entry-point into a single ES Module. It&rsquo;s formed by following all imports from a package and copying that code into a single file while preserving all public ES exports and removing all private imports.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c0">The shortened name &ldquo;FESM&rdquo; (pronounced &ldquo;phesom&rdquo;) can have a number after it such as &ldquo;FESM5&rdquo; or &ldquo;FESM2015&rdquo;. The number refers to the language level of the JavaScript inside the module. So a FESM5 file would be ESM+ES5 (import/export statements and ES5 source code).</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">To generate a flattened ES Module index file, use the following configuration options in your </span><span class="c30">tsconfig.json</span><span class="c0">&nbsp;file:</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c19 c1">{</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;compilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;es2015&quot;,</span></p><p class="c5 c11"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;target&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c4 c1">&quot;es5&quot;, // for FESM5, or &quot;es2015&quot; for FESM15</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c6">},</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;angularCompilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleOutFile&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;my-ui-lib.js&quot;,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;flatModuleId&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;my-ui-lib&quot;</span></p><p class="c5"><span class="c19 c1">&nbsp; }</span></p><p class="c5"><span class="c1">}</span></p><p class="c2"><span class="c0"></span></p><p class="c5 c11"><span class="c0">Once the index file (e.g. my-ui-lib.js) is generated by ngc, bundlers and optimizers like Rollup can be used to to produce the flattened ESM file.</span></p><p class="c2 c11"><span class="c0"></span></p><a id="id.if90a3v8ovbn"></a><h3 class="c11 c57" id="h.3kkc9d322g9f"><span class="c32 c49">Note about the defaults in package.json</span></h3><p class="c5 c11"><span class="c0">As of webpack v4 the flattening of ES modules optimization should not be necessary for webpack users, and in fact theoretically we should be able to get better code-splitting without flattening of modules in webpack, but in practice we still see size regressions when using unflattened modules as input for webpack v4. This is why &quot;module&quot; and &quot;es2015&quot; package.json entries still point to fesm files. We are investigating this issue and expect that we&#39;ll switch the &quot;module&quot; and &quot;es2015&quot; package.json entry-points to unflattened files when the size regression issue is resolved.</span></p><p class="c2 c11"><span class="c19 c32 c27"></span></p><h2 class="c28 c11" id="h.dhi53tt0wmgv"><span class="c19 c37 c7">Inlining of templates and stylesheets</span></h2><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5 c11"><span class="c14">Component libraries are typically implemented using stylesheets and html templates stored in separate files. While it&#39;s not required, we suggest that component authors inline the templates and stylesheets into their FESM files as well as </span><span class="c30">*.metadata.json</span><span class="c14">&nbsp;files by replacing the </span><span class="c30">styleUrls</span><span class="c14">&nbsp;and </span><span class="c30">templateUrl</span><span class="c14">&nbsp;with </span><span class="c30">styles</span><span class="c14">&nbsp;and </span><span class="c30">template</span><span>&nbsp;</span><span class="c0">metadata properties respectively. This simplifies consumption of the components by application developers.</span></p><p class="c2 c11"><span class="c0"></span></p><a id="id.1dw7h9w8wst4"></a><h2 class="c11 c28" id="h.wdpbhi4bw1u8"><span>webpack v4 &quot;</span><span class="c19 c37 c7">sideEffects&quot;: false</span></h2><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5 c11"><span class="c14">As of webpack v4, packages that contain a special property called &quot;</span><span class="c46">sideEffects</span><span class="c14">&quot; set to false in their package.json, will be processed by webpack more aggressively than those that don&#39;t. The end result of these optimizations should be smaller bundle size and better code distribution in bundle chunks after code-splitting. This optimization can break your code if it contains non-local side-effects - this is however not common in Angular applications and it&#39;s a usually a sign of bad design. Our recommendation is for all packages to claim the side-effect free status by setting the </span><span class="c46">sideEffects</span><span class="c14">&nbsp;property to </span><span class="c46">false</span><span class="c14">, and that developers follow the </span><span class="c14 c22"><a class="c29" href="https://www.google.com/url?q=https://angular.io/guide/styleguide&amp;sa=D&amp;ust=1555232405954000">Angular Style Guide</a></span><span class="c0">&nbsp;which naturally results in code without non-local side-effects.</span></p><p class="c5 c11"><span class="c14">More info: </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/webpack/webpack/tree/master/examples/side-effects&amp;sa=D&amp;ust=1555232405954000">webpack docs on side-effects</a></span></p><p class="c5 c11"><span class="c0">&nbsp;</span></p><h2 class="c28 c11" id="h.d9a4pj1rx09p"><span class="c19 c7 c37">ES2015 Language Level (experimental)</span></h2><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5 c11"><span class="c14">While the most commonly used build tools today (e.g. WebPack and Uglify) expect the input coming from </span><span class="c30">node_modules/</span><span class="c0">&nbsp;to be transpiled down to ES5. Now that all evergreen browsers natively support ES2015 (ES6), we encourage that the whole front-end ecosystem transitions over to distributing JS code at the ES2015 language level. Doing so will simplify the build process and will enable new optimizations resulting in better optimizations during packaging and minification. For this reason we encourage component authors to publish their libraries in a way where both ES5 and ES2015 language levels are supported.</span></p><p class="c2 c11"><span class="c0"></span></p><p class="c5 c11"><span class="c14">The &quot;</span><span class="c30">es2015&quot;</span><span class="c0">&nbsp;property in package.json can be used to point tools with ES2015 support to the right file in your package.</span></p><p class="c2 c11"><span class="c19 c32 c27"></span></p><h2 class="c28 c11" id="h.z07m1uc8on42"><span class="c19 c37 c7">Closure compiler annotations (experimental)</span></h2><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c14">The </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://developers.google.com/closure/compiler/&amp;sa=D&amp;ust=1555232405956000">Closure compiler</a></span><span class="c14">&nbsp;is the most advanced JavaScript minifier available today, but in order for it to do a good job, it requires type hints in the form of jsdoc type annotations. These can be automatically generated using the ngc compiler, if the </span><span class="c30">annotateForClosure</span><span class="c0">&nbsp;flag is turned on in tsconfig.json:</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c19 c1">{</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;compilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;module&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">&quot;es2015&quot;,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c6">},</span></p><p class="c5"><span class="c1">&nbsp; </span><span class="c1 c12">&quot;angularCompilerOptions&quot;</span><span class="c1 c6">:</span><span class="c19 c1">&nbsp;{</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c6">...</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">&quot;annotateForClosureCompiler&quot;</span><span class="c1 c6">:</span><span class="c1">&nbsp;</span><span class="c1 c12">true,</span></p><p class="c5"><span class="c1">&nbsp; &nbsp; </span><span class="c1 c12">...</span></p><p class="c5"><span class="c19 c1">&nbsp; }</span></p><p class="c5"><span class="c1">}</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c21" id="h.3uo5hsed0ujx"><span class="c19 c45">Examples</span></h1><ul class="c35 lst-kix_ra5thuka9ix0-0 start"><li class="c5 c11 c15"><span class="c22"><a class="c29" href="https://www.google.com/url?q=https://github.com/angular/core-builds/tree/4.0.0&amp;sa=D&amp;ust=1555232405958000">@angular/core package</a></span></li><li class="c5 c15 c11"><span class="c22"><a class="c29" href="https://www.google.com/url?q=https://github.com/angular/material2-builds%23d7f549850cfd94b31bb624e2702b61305fd6337d&amp;sa=D&amp;ust=1555232405959000">@angular/material package</a></span></li><li class="c5 c15 c11"><span class="c22"><a class="c29" href="https://www.google.com/url?q=https://github.com/jasonaden/simple-ui-lib&amp;sa=D&amp;ust=1555232405959000">jasonaden/simple-ui-lib</a></span></li><li class="c5 c15 c11"><span class="c22"><a class="c29" href="https://www.google.com/url?q=https://github.com/filipesilva/angular-quickstart-lib&amp;sa=D&amp;ust=1555232405960000">filipesilva/angular-quickstart-lib</a></span></li></ul><p class="c2 c11"><span class="c19 c32 c27"></span></p><h1 class="c11 c21" id="h.uu3dyo7ydg1"><span>Definition of Terms</span></h1><p class="c2 c11"><span class="c19 c32 c27"></span></p><p class="c5 c11"><span class="c0">The following terms are used throughout this document very intentionally. In this section we define all of them to provide additional clarity.</span></p><p class="c2"><span class="c0"></span></p><p class="c5"><span class="c7">Package</span><span class="c14">&nbsp;- the smallest set of files that are published to NPM and installed together, for example @angular/core. This package includes a manifest called package.json, compiled source code, typescript definition files, source maps, metadata, etc. The package is installed with </span><span class="c30 c56">npm install @angular/core</span><span class="c0">.</span></p><p class="c5"><span class="c7">Symbol - </span><span class="c0">a class, function, constant or variable contained in a module and optionally made visible to the external world via a module export.</span></p><p class="c5"><span class="c7">Module</span><span class="c14">&nbsp;- Short for ECMAScript Modules. A file containing statements that import and export symbols. This is identical to the definition of </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=http://www.ecma-international.org/ecma-262/6.0/%23sec-modules&amp;sa=D&amp;ust=1555232405961000">modules in the ECMAScript spec</a></span><span class="c0">.</span></p><p class="c5"><span class="c7">ESM -</span><span class="c0">&nbsp;short for ECMAScript Modules (see above).</span></p><p class="c5"><span class="c7">FESM -</span><span class="c0">&nbsp;short for Flattened ES Modules and consists of a file format created by flattening all ES Modules accessible from an entry-point into a single ES Module.</span></p><p class="c5"><span class="c7">Module ID</span><span class="c0">&nbsp;- the identifier of a module used in the import statements, e.g. &quot;@angular/core&quot;. The ID often maps directly to a path on the filesystem, but this is not always the case due to various module resolution strategies.</span></p><p class="c5"><span class="c7">Module Resolution Strategy -</span><span class="c14">&nbsp;algorithm used to convert Module IDs to paths on the filesystem. Node.js has one that is </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://nodejs.org/api/modules.html%23modules_all_together&amp;sa=D&amp;ust=1555232405962000">well specified </a></span><span class="c14">and widely used, TypeScript supports </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://www.typescriptlang.org/docs/handbook/module-resolution.html&amp;sa=D&amp;ust=1555232405962000">several module resolution strategies</a></span><span class="c14">, Closure has</span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/google/closure-compiler/wiki/JS-Modules&amp;sa=D&amp;ust=1555232405962000">&nbsp;yet another strategy</a></span><span class="c0">.</span></p><p class="c5"><span class="c7">Module Format -</span><span class="c0">&nbsp;specification of the module syntax that covers at minimum the syntax for the importing and exporting from a file. Common module formats are CommonJS (CJS, typically used for Node.js applications) or ECMAScript Modules (ESM). The module format indicates only the packaging of the individual modules, but not the JavaScript language features used to make up the module content. Because of this, the Angular team often uses the language level specifier as a suffix to the module format, e.g. ESM+ES5 specifies that the module is in ESM format and contains code down-leveled to ES5. Other commonly used combos: ESM+ES2015, CJS+ES5, and CJS+ES2015.</span></p><p class="c5"><span class="c7">Bundle - </span><span class="c14">an artifact in the form of a single JS file, produced by a build tool, e.g. WebPack or Rollup, that contains symbols originating in one or more modules. Bundles are a browser-specific workaround that reduce network strain that would be caused if browsers were to start downloading hundreds if not tens of thousands of files. Node.js typically doesn&#39;t use bundles. Common bundle formats are </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/umdjs/umd&amp;sa=D&amp;ust=1555232405963000">UMD</a></span><span class="c14">&nbsp;and </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://github.com/ModuleLoader/es-module-loader/blob/master/docs/system-register.md&amp;sa=D&amp;ust=1555232405963000">System.register</a></span><span class="c0">.</span></p><p class="c5"><span class="c7">Language Level - </span><span class="c0">The language of the code (ES5 or ES2015). Independent of the module format.</span></p><p class="c5"><span class="c7">Entry Point</span><span class="c7">&nbsp;-</span><span class="c0">&nbsp;a module intended to be imported by the user. It is referenced by a unique module ID and exports the public API referenced by that module ID. An example is @angular/core or @angular/core/testing. Both entry points exist in the @angular/core package, but they export different symbols. A package can have many entry points.</span></p><p class="c5"><span class="c7">Deep Import - </span><span class="c0">process of retrieving symbols from modules that are not Entry Points. These module IDs are usually considered to be private APIs that can change over the lifetime of the project or while the bundle for the given package is being created.</span></p><p class="c5"><span class="c7">Top-Level Import - </span><span class="c0">an import coming from an entry point. The available top-level imports are what define the public API and are exposed in &ldquo;@angular/name&rdquo; modules, such as @angular/core &nbsp;or @angular/common.</span></p><p class="c5"><span class="c7">Tree-shaking -</span><span class="c0">&nbsp;process of identifying and removing code not used by an application - also known as dead code elimination. This is a global optimization performed at the application level using tools like Rollup, Closure Compiler, or Uglify.</span></p><p class="c5"><span class="c7">AOT Compiler -</span><span class="c14">&nbsp;the </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://angular.io/docs/ts/latest/cookbook/aot-compiler.html&amp;sa=D&amp;ust=1555232405965000">Ahead of Time Compiler</a></span><span class="c0">&nbsp;for Angular.</span></p><p class="c5"><span class="c7">Flattened Type Definitions -</span><span class="c14">&nbsp;the bundled TypeScript definitions generated from </span><span class="c22 c14"><a class="c29" href="https://www.google.com/url?q=https://api-extractor.com&amp;sa=D&amp;ust=1555232405965000">api-extractor</a></span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p></body></html>